local gui_library = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/UI-Libs/main/discord%20lib.txt"))()
local window = gui_library:Window("greek salad")
local replicated_storage = game:GetService("ReplicatedStorage")
local run_service = game:GetService("RunService")
local players = game:GetService("Players")
local local_player = players.LocalPlayer
local mouse = local_player:GetMouse()
local default = ""




-- battleship battle --
local battleship_battle = window:Server("Battleship Battle", "")
local guns2 = battleship_battle:Channel("Guns")
local hooked2 = false
local hooked3 = false

local Activee = 0

local function setrifle()
	 local assault_rifle = local_player.Backpack:FindFirstChild("Heimr MP77") or (local_player.Character and local_player.Character:FindFirstChild("Heimr MP77"))

    if not assault_rifle then
        return
    end

    local script = assault_rifle:FindFirstChild("AssaultRifleScript")

    if not script then
        return
    end

    setupvalue(getsenv(script).OnFire, 4, math.huge)
    setconstant(getsenv(script).OnFire, 47, 0)
    setconstant(getsenv(script).OnFire, 14, 0)
    setconstant(getsenv(script).OnFire, 13, 0)
    setconstant(getsenv(script).OnFire, 12, 0)
end

guns2:Toggle("Modify Assault Rifle.", false, function()
Activee += 1
	while Activee < 2 do
		setrifle() 
		wait(1)
		setrifle()
		wait(1)
		if Activee >= 2 then
			Activee = 0
			break
		end
	end
end)

local ec = 0

local function setbaz()
	 local rocket_launcher = local_player.Backpack:FindFirstChild("Bote Rakete") or (local_player.Character and local_player.Character:FindFirstChild("Bote Rakete"))

    if not rocket_launcher then
        return
    end

    local script = rocket_launcher:FindFirstChild("LocalManage")

    if not script then
        return
    end

    setconstant(getsenv(script).requestFire, 18, 0)
    setconstant(getsenv(script).requestFire, 4, 4)
end


guns2:Toggle("Modify Rocket Launcher", false, function()
	ec += 1
	while ec < 2 do
		setbaz() 
		wait(1)
		setbaz()
		wait(1)
		if ec >= 2 then
			ec = 0
			print("ended loop")
			break
		end
	end
end)

guns2:Button("Instant kill.", function()
    if hooked3 then
        return
    end

    hooked3 = true
    local invoke = nil

    invoke = hookmetamethod(game, "__namecall", newcclosure(function(instance, ...)
        local arguments = {...}
        local method = getnamecallmethod()

        if checkcaller() then
            return invoke(instance, ...)
        end

        if method == "FireServer" and instance.Name == "DealDamage" then
            arguments[1] = 300
            return invoke(instance, unpack(arguments))
        end

        return invoke(instance, ...)
    end))
end)

local player2 = battleship_battle:Channel("Player")
local module2 = require(workspace:FindFirstChild("CommonPlayerScript"))
local god = false

run_service.RenderStepped:Connect(function(delta)
    if not god then
        return
    end

    local character = local_player.Character

    if not character then
        return
    end

    local player_script = character:FindFirstChild("PlayerScript")

    if not player_script then
        return
    end

    local deal_damage = player_script:FindFirstChild("DealDamage")

    if not deal_damage then
        return
    end

    local function dealDamage()
        deal_damage:FireServer(-math.huge, module2.makeGauss(character.Name))
    end

    dealDamage()
end)

player2:Toggle("Semi-Godmode: Explosions and other thigs can still kill you.", false, function(bool)
    god = bool
end)

local teleports2 = battleship_battle:Channel("Teleports")

teleports2:Button("Teleport to the Green Ship.", function()
    local character = local_player.Character

    if not character then
        return
    end

    character:SetPrimaryPartCFrame(workspace.GreenShip.PrimaryPart.CFrame)
end)

teleports2:Button("Teleport to the Orange Ship.", function()
    local character = local_player.Character

    if not character then
        return
    end

    character:SetPrimaryPartCFrame(workspace.OrangeShip.PrimaryPart.CFrame)
end)

local misc2 = battleship_battle:Channel("Misc")

misc2:Button("No Wait Function.", function()
    if hooked2 then
        return
    end

    hooked2 = true
    local old = nil

    old = hookfunction(wait, function()
        return old()
    end)
end)

local changed = ""

misc2:Textbox("Kill all: Enter death message.", "Type death message here.", false, function(message)
        local function change_death_message()
            changed = message
        end
        change_death_message()
end)


misc2:Button("Kill all.", function()
    for index, descendant in pairs(workspace:GetDescendants()) do
        if not descendant:IsA("Humanoid") then
            continue
        end

        if descendant.Parent == local_player.Character then
            continue
        end
        
        if not players:GetPlayerFromCharacter(descendant.Parent) then
            continue
        end

        local player_script = descendant.Parent:FindFirstChild("PlayerScript")

        if not player_script then
            continue
        end

        local deal_damage = player_script:FindFirstChild("DealDamage")

        if not deal_damage then
            continue
        end

        local function dealDamage()
            descendant.Parent.PlayerScript.SetCauseOfDeath:FireServer(tostring('<font size="40">'.. changed .. '</font>'))

            descendant.Parent.PlayerScript.DealDamage:FireServer(300, module2.makeGauss(descendant.Parent.Name))
        end

        dealDamage()
    end
end)

local function kill()
	 for index, descendant in pairs(workspace:GetDescendants()) do
        if not descendant:IsA("Humanoid") then
            continue
        end

        if descendant.Parent == local_player.Character then
            continue
        end
        
        if not players:GetPlayerFromCharacter(descendant.Parent) then
            continue
        end

        local player_script = descendant.Parent:FindFirstChild("PlayerScript")

        if not player_script then
            continue
        end

        local deal_damage = player_script:FindFirstChild("DealDamage")

        if not deal_damage then
            continue
        end

        local function dealDamage()
            descendant.Parent.PlayerScript.SetCauseOfDeath:FireServer(changed)

            descendant.Parent.PlayerScript.DealDamage:FireServer(300, module2.makeGauss(descendant.Parent.Name))
        end

        dealDamage()
    end
end

local Active = 0

	misc2:Toggle("loop kill all", false, function()
	Active += 1
	while Active < 2 do
		kill() --i made it a function so halal mode
		wait(1)
		kill()
		wait(1)
		if Active >= 2 then
			Active = 0
			break
		end
	end
	end)
	
	mouse.KeyDown:Connect(function(key)
		if key == default then 
		kill()
	end
end)
	
misc2:Textbox("Set kill all keybind. Examples: r ,t, y and others.", "Keybind here. Only non-capital letters.", false, function(message)
	default = message
end)

misc2:Button("Remove the kill all Keybind.", function()
default = nil
end)
	
	



local function kill2(msg)
	 for index, descendant in pairs(workspace:GetDescendants()) do
        if not descendant:IsA("Humanoid") then
            continue
        end

        if descendant.Parent == local_player.Character then
            continue
        end
        
        if not players:GetPlayerFromCharacter(descendant.Parent) then
            continue
        end

        local player_script = descendant.Parent:FindFirstChild("PlayerScript")

        if not player_script then
            continue
        end

        local deal_damage = player_script:FindFirstChild("DealDamage")

        if not deal_damage then
            continue
        end

        local function dealDamage()
            descendant.Parent.PlayerScript.SetCauseOfDeath:FireServer(msg)

            descendant.Parent.PlayerScript.DealDamage:FireServer(300, module2.makeGauss(descendant.Parent.Name))
        end

        dealDamage()
    end
end

local cus = battleship_battle:Channel("Kill All Type: 2.")
local default1 = ""
local default = "died"
local default_test = ""
local handle_value = 0
local r = 0
local g = 0
local b = 0

cus:Textbox("Change Kill Message.", "Change the Kill All message.", false, function(message)
	 default1 = message
end)

cus:Textbox("Change font size", "Change the font size, there's a limit too.", false, function(msg)
	handle_value = msg
end)

cus:Textbox("RGB(1,255)", "Choose the amount of R (Red) for the kill message.", false, function(message)
	r = message
end)

cus:Textbox("RGB (1,255)", "Choose the amount of G (Green) for the kill message.", false, function(message)
	g = message
end)

cus:Textbox("RGB (1,255)", "Choose the amount of B (Blue) for the kill message.", false, function(message)
	b = message
end)


cus:Button("Kill all", function()
kill2(tostring("<font size=" .. '"' .. handle_value .. '"' .. "color=" .. '"' .."rgb" .. "(" .. r .. "," .. g .. "," ..  b .. ")" .. '"' .. ">" .. default1 .. "</font>"))
	--kill2(tostring("<font size=" .. '"' .. handle_value .. '"' .. ">" .. default1 .. "</font>"))
	end)
